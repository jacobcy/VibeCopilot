{
    "id": "wf_universal_task",
    "name": "universal-task-workflow",
    "description": "A universal workflow for task management, starting with planning and including logging and memory storage.",
    "version": "1.1.0",
    "metadata": {
        "source_example": "examples/simple-task.md"
    },
    "stages": [
        {
            "id": "planning",
            "name": "PLANNING",
            "description": "初始规划阶段，分析需求并定义任务结构",
            "order": 1,
            "checklist": [
                "Analyze requirements",
                "Define task structure",
                "Prioritize tasks"
            ],
            "deliverables": [
                "Task plan document"
            ]
        },
        {
            "id": "pre_flow",
            "name": "PRE-FLOW",
            "description": "需求分析与文档编写",
            "order": 2,
            "checklist": [
                "Write PRD document",
                "Write Architecture document",
                "Confirm documents",
                "Complete stage review and comment",
                "Store records in memory"
            ],
            "deliverables": [
                "Confirmed PRD",
                "Confirmed Architecture Document"
            ]
        },
        {
            "id": "development",
            "name": "DEVELOPMENT",
            "description": "代码实现与测试",
            "order": 3,
            "checklist": [
                "Implement features",
                "Write unit tests",
                "Complete stage review and comment",
                "Store records in memory"
            ],
            "deliverables": [
                "Feature code",
                "Unit tests"
            ]
        },
        {
            "id": "review",
            "name": "REVIEW",
            "description": "代码审查与质量控制",
            "order": 4,
            "checklist": [
                "Perform code review",
                "Verify test coverage",
                "Complete stage review and comment",
                "Store records in memory"
            ],
            "deliverables": [
                "Code review approvals",
                "Test coverage report"
            ]
        },
        {
            "id": "release",
            "name": "RELEASE",
            "description": "部署与发布管理",
            "order": 5,
            "checklist": [
                "Prepare release notes",
                "Deploy application",
                "Complete stage review and comment",
                "Store records in memory"
            ],
            "deliverables": [
                "Release notes",
                "Deployed application"
            ]
        },
        {
            "id": "post_flow",
            "name": "POST-FLOW",
            "description": "规则优化与知识沉淀",
            "order": 6,
            "checklist": [
                "Summarize lessons learned",
                "Update rules",
                "Complete stage review and comment",
                "Store records in memory"
            ],
            "deliverables": [
                "Lessons learned document",
                "Updated rules"
            ]
        },
        {
            "id": "complete",
            "name": "Complete",
            "description": "Workflow finished",
            "order": 7,
            "checklist": [],
            "deliverables": []
        }
    ],
    "transitions": [
        {
            "id": "t_pre_to_plan",
            "from_stage": "pre_flow",
            "to_stage": "planning",
            "condition": "PRD and Arch Docs Confirmed",
            "description": "Transition from Pre-Flow to Planning"
        },
        {
            "id": "t_plan_to_dev",
            "from_stage": "planning",
            "to_stage": "development",
            "condition": "Epic/Story Structure Created",
            "description": "Transition from Planning to Development"
        },
        {
            "id": "t_dev_to_review",
            "from_stage": "development",
            "to_stage": "review",
            "condition": "Development and Unit Tests Complete",
            "description": "Transition from Development to Review"
        },
        {
            "id": "t_review_to_release",
            "from_stage": "review",
            "to_stage": "release",
            "condition": "Code Review Approved and Quality Met",
            "description": "Transition from Review to Release"
        },
        {
            "id": "t_release_to_post",
            "from_stage": "release",
            "to_stage": "post_flow",
            "condition": "Release Successful",
            "description": "Transition from Release to Post-Flow"
        },
        {
            "id": "t_post_to_complete",
            "from_stage": "post_flow",
            "to_stage": "complete",
            "condition": "Post-flow activities finished",
            "description": "Transition from Post-Flow to Complete"
        }
    ]
}
