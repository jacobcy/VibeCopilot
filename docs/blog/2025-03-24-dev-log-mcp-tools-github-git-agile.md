---
title: 开发日志：MCP 工具测试、GitHub 集成与 Agile 流程 (2025-03-24)
author: Jacob
date: 2025-03-24
tags: 开发, MCP工具, 截图, Memory, GitHub, Git, Agile, 工作流, VibeCopilot
category: 开发日志
status: 已完成
summary: 本日志记录了对 MCP 工具（特别是截图和 Memory 功能）的测试过程、GitHub 工作流集成讨论、Git Submodule 排除以及 Agile 流程中 Epic/Story 创建的探索。
---

# 开发日志：MCP 工具测试、GitHub 集成与 Agile 流程 (2025-03-24)

> 本日志记录了对 MCP 工具（特别是截图和 Memory 功能）的测试过程、GitHub 工作流集成讨论、Git Submodule 排除以及 Agile 流程中 Epic/Story 创建的探索。
>
> 作者: Jacob | 日期: 2025-03-24 | 状态: 已完成

## 背景与目标

为了验证和完善 VibeCopilot 的核心工具能力并优化开发工作流程，本阶段进行了多项测试和探索，主要目标包括：

- **测试 MCP 截图工具**: 验证 MCP 工具链中 Puppeteer 截图功能的可靠性，包括全页面截图、元素截图以及截图文件的保存。
- **探索 MCP Memory 工具**: 了解并实践使用 Memory 工具记录对话、管理项目信息，并测试其与本地工具（如 Obsidian）的数据交互。
- **GitHub 工作流集成**: 讨论如何将项目开发流程（如规则创建）与 GitHub 项目管理功能（如 Projects, Issues）更紧密地集成。
- **Git Submodule 管理**: 解决 Git 仓库中 Submodule 的跟踪问题，确保不必要的模块不会被提交。
- **理解 Agile 流程**: 探索项目中 Agile 流程（特别是 Epic 和 Story 的创建）是手动还是自动化，并查找相关规则。

## 技术方案与实施

### MCP 工具测试

- **截图功能 (Puppeteer)**:
  - **成功**: 成功使用 Puppeteer 导航到指定网页 (GitHub, Next.js) 并捕获全页面及特定元素（导航栏）的截图。
  - **挑战**: 在尝试将截图保存到文件系统时遇到困难。检查了指定的 `screenshots` 目录，确认其存在，但无论是使用默认路径还是完整路径，截图文件均未能成功保存。
  - **尝试解决**: 讨论了可能的权限问题和配置调整。AI 助手尝试创建截图目录并设置权限，但操作被中断。
- **Memory 工具**:
  - **实践**: 成功使用 Memory 工具记录了关于如何使用该工具的教程，包括创建实体（如对话会话、脚本、文档）和它们之间的关系。
  - **数据交互**: 探索了访问 Docker 中 Memory 服务数据的可能性，并演示了如何检索数据并将其导出到本地目录，以便在 Obsidian 等工具中使用。

### GitHub 工作流集成

- **需求**: 用户提出将开发流程（如规则创建）集成到 GitHub 项目管理中的需求。
- **规则获取**: AI 助手获取了与开发工作流相关的现有规则，确认了包含分支管理、提交标准和代码评审等实践的规则存在。
- **集成方式讨论**: 用户建议优先利用现有 GitHub 功能（如 Projects, Issues）而非创建独立脚本。
- **实现探索**: AI 助手探索了现有 GitHub 模块的结构，并提出了更内聚的实施方案（具体方案细节未在摘要中详述）。
- **会话记录**: AI 助手成功将关于 Perplexity API 配置的讨论会话保存为详细的本地文档文件，并使用 Memory 工具记录了会话、脚本和文档之间的关联。

### Git Submodule 管理

- **问题**: 用户不希望提交 `modules/cursor-custom-agents-rules-generator` 这个 submodule。
- **解决方案**: AI 助手成功修改了项目根目录下的 `.gitignore` 文件，添加了该 submodule 的路径，从而阻止了 Git 对其进行跟踪和提交。

### Agile 流程探索 (Epic/Story 创建)

- **用户疑问**: 用户询问 Epic 和 Story 的创建是手动还是自动化，并希望找到能让 AI 自动生成的规则。
- **流程说明**: AI 助手解释了当前的（可能是手动的）流程。
- **规则查找**: AI 助手搜索了工作流相关文件，并找到了 `workflow-agile-manual.mdc` 文件。
- **自动化流程揭示**: 该规则文件揭示了项目中存在用于自动生成 PRD、架构文档和 Story 的自动化流程，并说明了如何通过特定命令触发这些流程。

## 开发过程

该阶段的活动主要包括：

1. **工具测试**: 用户主动发起对 MCP 截图和 Memory 工具的测试。
2. **问题诊断**: 遇到截图保存失败等问题，与 AI 共同分析可能的原因（路径、权限）。
3. **功能探索**: 用户提出探索 Memory 工具和 GitHub 集成的需求。
4. **信息检索与分析**: AI 助手查找相关规则、分析模块结构、解释现有流程。
5. **配置修改**: AI 助手根据用户要求修改了 `.gitignore` 文件。
6. **文档与记录**: AI 助手使用 Memory 工具和文件写入功能记录了重要的讨论和操作过程。

## 测试与验证

- **截图捕获**: 成功捕获截图验证了 Puppeteer 的基本截图功能可用。
- **截图保存**: 保存失败表明该功能存在问题，需要进一步调试。
- **Memory 工具操作**: 成功创建实体和关系，并导出数据，验证了 Memory 工具的基本可用性。
- **`.gitignore` 修改**: (推测) 用户后续可以通过 `git status` 确认 submodule 不再被跟踪。
- **规则查找**: 成功找到 `workflow-agile-manual.mdc` 验证了自动化流程规则的存在。

## 经验总结

- **MCP 工具链验证**: 对 MCP 工具进行实际场景测试对于发现潜在问题（如文件保存）和理解其能力边界至关重要。
- **工具集成潜力**: Memory 工具和 GitHub 集成展示了将开发过程信息结构化、自动化的潜力。
- **显式配置优于约定**: 对于 Git 忽略等行为，显式配置 (`.gitignore`) 比依赖约定更可靠。
- **自动化流程发掘**: 即使部分流程当前看似手动，也可能存在隐藏的自动化规则或脚本，需要主动查找和利用。

## 后续计划

- [ ] 调试并解决 MCP 截图工具的文件保存问题。
- [ ] 继续探索和实践 Memory 工具在项目管理中的应用。
- [ ] 根据讨论结果，设计并实现 GitHub 工作流与项目开发流程的具体集成方案。
- [ ] 利用已发现的自动化规则 (`workflow-agile-manual.mdc`) 优化 Epic/Story 的创建过程。

## 参考资料

- 相关规则文件: (可能) `workflow-agile-manual.mdc`
- 配置文件: `.gitignore`
- 相关工具: Puppeteer, MCP Memory Tool
