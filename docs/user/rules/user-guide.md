# VibeCopilot 规则系统用户指南

## 简介

VibeCopilot规则系统是一个强大的自动化工具，它通过定义和执行规则来规范开发流程、提高代码质量、自动化常见任务。本指南将帮助您理解和使用规则系统。

## 核心概念

### 规则类型

1. **手动规则 (Manual Rules)**
   - 文件名以`-manual.mdc`结尾
   - 需要用户手动触发执行
   - 适用于重要决策和关键操作

2. **自动规则 (Auto Rules)**
   - 文件名以`-auto.mdc`结尾
   - 基于文件模式自动触发
   - 适用于代码风格、提交检查等

3. **全局规则 (Always Rules)**
   - 文件名以`-always.mdc`结尾
   - 在所有上下文中始终生效
   - 适用于通用标准和基础规范

4. **代理选择规则 (Agent Rules)**
   - 文件名以`-agent.mdc`结尾
   - 由AI助手根据上下文选择性应用
   - 适用于特定场景的专业指导

### 规则目录结构

```
.cursor/rules/
├── core-rules/      # 核心规则
├── dev-rules/       # 开发规则
├── flow-rules/      # 流程规则
├── role-rules/      # 角色规则
├── tool-rules/      # 工具规则
└── ts-rules/        # TypeScript规则
```

## 使用方法

### 1. 查看规则

```bash
/rule list              # 列出所有规则
/rule show <规则名称>    # 查看特定规则详情
/rule search <关键词>    # 搜索规则
```

### 2. 执行规则

```bash
/flow <规则名称>         # 执行流程规则
/check <规则名称>        # 执行检查规则
/agent <专家角色>        # 激活专家规则
```

### 3. 规则提示符号

- `/` - 命令执行标识
- `{/规则名称}` - 规则注释标识
- `@` - 规则引用标识

## 最佳实践

1. **遵循规则优先级**
   - 全局规则 > 自动规则 > 手动规则
   - 特定规则优先于通用规则

2. **合理使用规则注释**
   - 使用`{/规则名称}`提及规则但不执行
   - 在文档中使用`@规则名称`引用规则

3. **规则组合使用**
   - 多个规则可以组合使用
   - 注意规则之间的依赖关系

## 常见问题

1. **规则不生效？**
   - 检查规则文件名是否正确
   - 确认规则类型是否匹配使用场景
   - 验证规则定义是否完整

2. **规则冲突？**
   - 检查规则优先级设置
   - 查看规则执行日志
   - 调整规则顺序或修改规则定义

## 进阶功能

1. **规则模板**
   - 使用预定义模板创建规则
   - 自定义规则模板

2. **规则链**
   - 创建规则执行序列
   - 定义规则依赖关系

3. **规则监控**
   - 查看规则执行历史
   - 分析规则效果

## 更多资源

- [规则开发指南](./development-guide.md)
- [规则系统架构](./architecture.md)
- [常见规则示例](./examples.md)
