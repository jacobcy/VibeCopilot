# Cursor AI 规则模板

本文档定义了项目中 Cursor AI 工具的使用规则和配置指南，作为 VibeCopilot 项目的标准 AI 配置模板。

## 1. 编码风格规则

```
# 编码风格规则
- 遵循PEP 8风格标准（Python项目）
- 使用Prettier配置（JavaScript/TypeScript项目）
- 类名使用PascalCase
- 变量和函数名使用camelCase（JavaScript）或snake_case（Python）
- 常量使用UPPER_SNAKE_CASE
- 使用2空格缩进（JavaScript/TypeScript）或4空格缩进（Python）
- 每行代码不超过80字符
- 使用有意义的变量名，避免单字母变量（除循环计数器外）
```

## 2. 注释要求

```
# 注释规则
- 所有公共函数/方法必须有文档字符串
- 复杂逻辑必须有注释说明
- 使用TODO/FIXME标记未完成工作
- 文档字符串格式：
  * Python: Google风格
  * JavaScript: JSDoc风格
- 避免注释掉的代码残留在文件中
- 类和模块必须有概述性文档
```

## 3. Commit Message 规范

```
# Commit Message规范
- 使用Conventional Commits标准
- 格式: <type>(<scope>): <description>
- 类型(type):
  * feat: 新功能
  * fix: 修复bug
  * docs: 文档变更
  * style: 代码格式调整
  * refactor: 代码重构
  * test: 添加测试
  * chore: 构建过程或辅助工具变动
- 描述使用现在时态，简洁明了
- 每个提交只做一件事
```

## 4. 文档更新规则

```
# 文档更新规则
- 新功能必须同时更新相关文档
- API变更必须更新API文档
- 重大重构必须更新架构文档
- 提交前运行文档生成工具确保一致性
- 将文档变更与代码变更放在同一个提交中
- 技术债务必须在文档中记录
```

## 5. 代码生成偏好

```
# 代码生成偏好
- 优先使用函数式编程风格
- 避免使用全局变量和状态
- 优先使用组合而非继承
- 使用类型注解/TypeScript类型
- 错误处理：优先使用异常处理而非错误码
- 使用异步/Promise而非回调风格（JavaScript）
- 优先使用标准库而非第三方库（如果功能相似）
- 测试优先：为每个功能编写测试
```

## 6. AI工具使用规则

```
# AI工具使用规则
- 总是审查AI生成的代码
- 不要让AI生成完整文件，而是生成更小的组件
- 为AI提供明确的上下文和约束
- 使用连续性对话优化结果
- 遵循项目文档中定义的AI协作工作流
- 检查AI输出中的错误假设或幻觉
- 记录有效的提示模式供团队使用
```

## 7. 安全性规则

```
# 安全性规则
- 敏感信息不应出现在代码或注释中
- 不要将API密钥或凭证提交到版本控制
- 使用环境变量处理配置和密钥
- 验证所有用户输入
- 遵循OWASP安全指南
- 使用参数化查询避免SQL注入
- 避免在前端存储敏感数据
```

## 8. 性能考虑

```
# 性能规则
- 避免不必要的计算和嵌套循环
- 优化数据库查询，使用适当的索引
- 减少网络请求和API调用
- 重用对象和连接池
- 考虑缓存策略
- 避免内存泄漏
- 注意资源清理（关闭连接、文件等）
```

## 9. 测试要求

```
# 测试规则
- 单元测试覆盖率目标：>80%
- 编写整合测试验证组件交互
- 提交前运行测试套件
- 测试应该是独立的，可并行运行
- 使用mock/stub隔离外部依赖
- 包含正向和负向测试用例
- 性能关键路径需要基准测试
```

## 10. 使用方法

将此文件保存为项目根目录下的`.cursor.rules`或在Cursor AI设置中引用此文件。确保团队所有成员了解并遵循这些规则。

您可以根据项目特定需求调整这些规则。每次规则更新后，请通知团队成员并确保他们更新自己的配置。

## 11. 自定义规则示例

以下是项目特定的自定义规则示例，请根据实际需求调整：

```
# 项目特定规则
- 使用React Hooks而非类组件
- 所有数据访问通过中央API层
- 错误边界必须在每个页面组件中实现
- 使用特定状态管理模式（例如：Redux）
- 国际化文本使用i18n键而非硬编码
- 移动优先的响应式设计
- 使用特定的UI组件库
```

---

通过遵循这些规则，您将确保Cursor AI工具能够生成符合项目标准的高质量代码，同时维护团队一致性和代码可维护性。
