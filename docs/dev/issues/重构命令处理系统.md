# 重构命令处理系统

## 任务描述

将命令处理系统重构为符合技术文档的分层架构

## 具体步骤

### 第一阶段：目录结构调整

1. 在 `src` 目录下创建核心模块：
   - `src/core/`: 核心功能
   - `src/cli/`: 命令行处理
   - `src/cursor/`: Cursor IDE 集成

### 第二阶段：命令处理重构

1. 实现规则引擎层：
   - 规则加载和解析
   - 规则优先级处理
   - 上下文管理

2. 实现命令解析层：
   - 命令解析器
   - 参数处理
   - 路由系统

3. 重构现有命令：
   - 将 `scripts/cli` 拆分为独立命令处理器
   - 将 `scripts/cursor` 移至 `src/cursor`
   - 更新导入路径

### 第三阶段：文档更新

1. 更新技术文档
2. 添加开发者指南
3. 更新用户指南

## 验收标准

1. 目录结构符合技术文档规范
2. 命令处理流程清晰可追踪
3. 所有测试通过
4. 文档完整更新

## 预计工作量

- 目录结构调整：1天
- 命令处理重构：2-3天
- 文档更新：1天
