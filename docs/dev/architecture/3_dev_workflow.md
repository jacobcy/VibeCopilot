# VibeCopilot 开发流程指南

本文档描述VibeCopilot项目自身的开发流程和协作方式，为项目贡献者提供指导。

## 开发理念

VibeCopilot项目采用"文档先于代码"的开发理念，所有功能开发均遵循以下原则：

1. **先形成文档再实现功能**：确保功能设计经过充分思考
2. **基于已有开源工具构建**：避免重复造轮子
3. **模块化设计优先**：保持系统的可扩展性和灵活性
4. **持续集成与测试**：确保每个变更都能正常工作

## 开发环境准备

### 所需工具

- Node.js 16+ 和 npm
- Git
- 推荐IDE：VSCode 或 Cursor
- Obsidian（用于查看知识库和文档）
- GitHub账号

### 环境设置

```bash
# 克隆项目
git clone https://github.com/yourusername/VibeCopilot.git

# 安装依赖
cd VibeCopilot
npm install

# 设置开发环境
npm run setup:dev

# 启动开发服务器
npm run dev
```

## 开发流程

### 1. 需求分析和文档编写阶段

**步骤1：创建功能提案**

- 在`docs/proposals/`目录下创建新功能提案
- 使用标准模板描述功能目标和设计
- 提交PR并获取团队反馈

**步骤2：更新架构文档**

- 确定功能在整体架构中的位置
- 更新相关架构文档
- 确保与现有组件的一致性

**步骤3：创建详细规格**

- 在`docs/specs/`目录下创建详细技术规格
- 定义接口、数据流和依赖关系
- 编写测试用例和验收标准

### 2. 开发和实现阶段

**步骤1：创建开发分支**

- 从`main`分支创建功能分支
- 遵循命名规范：`feature/模块名/功能描述`

**步骤2：模块实现**

- 遵循项目代码风格指南
- 编写单元测试和集成测试
- 实现与文档一致的功能

**步骤3：代码评审**

- 提交PR并指定至少两名评审者
- 使用PR模板确保提供足够信息
- 根据反馈进行修改

### 3. 测试和集成阶段

**步骤1：执行测试**

- 运行单元测试和集成测试
- 执行手动功能测试
- 确保所有测试用例通过

**步骤2：更新文档**

- 根据实际实现更新技术文档
- 编写用户指南（如适用）
- 更新API文档（如适用）

**步骤3：合并到主分支**

- 合并PR到main分支
- 创建版本标签（如适用）
- 更新版本日志

### 4. 发布和维护阶段

**步骤1：版本发布**

- 确定版本号（遵循语义化版本）
- 准备发布说明
- 创建GitHub发布

**步骤2：监控和反馈**

- 收集用户反馈
- 监控系统稳定性
- 创建问题跟踪

**步骤3：迭代改进**

- 基于反馈规划后续改进
- 创建新的功能提案
- 循环开发流程

## 协作最佳实践

### 文档协作

1. **文档标准化**：
   - 使用Markdown格式
   - 遵循统一的文档模板
   - 使用明确的标题和章节划分

2. **版本控制**：
   - 文档也需要经过PR流程
   - 重大变更需要团队讨论
   - 保持文档与代码同步

3. **知识管理**：
   - 核心决策记录在`docs/decisions/`
   - 技术研究保存在`docs/research/`
   - API文档保存在`docs/api/`

### 代码协作

1. **代码规范**：
   - 遵循ESLint和Prettier配置
   - 使用TypeScript进行类型检查
   - 遵循项目的命名规范

2. **提交规范**：
   - 使用命令性提交信息
   - 包含相关issue编号
   - 保持提交粒度合理

3. **分支策略**：
   - 主要开发在feature分支
   - 修复bug在bugfix分支
   - 发布准备在release分支

### 团队沟通

1. **问题讨论**：
   - 使用GitHub Issues进行讨论
   - 为issues添加适当标签
   - 明确责任人和截止日期

2. **进度报告**：
   - 定期团队同步会议
   - 更新项目看板
   - 共享技术发现和挑战

3. **代码评审**：
   - 建设性提供反馈
   - 关注代码质量和一致性
   - 确保单元测试覆盖

## 项目目录结构

```
VibeCopilot/
├── docs/                # 项目文档
│   ├── architecture/    # 架构文档
│   ├── decisions/       # 决策记录
│   ├── proposals/       # 功能提案
│   ├── research/        # 技术研究
│   └── specs/           # 详细规格
├── modules/             # 核心模块
│   ├── connectors/      # 工具连接器
│   ├── sync-engine/     # 同步引擎
│   ├── github-integration/ # GitHub集成
│   ├── cursor-rules/    # Cursor规则生成器
│   └── docusaurus-publisher/ # 文档发布系统
├── scripts/             # 开发和部署脚本
├── templates/           # 文档和代码模板
├── tests/               # 自动化测试
└── web/                 # Web界面(如适用)
```

## 贡献指南

### 首次贡献

1. **熟悉项目**：
   - 阅读架构文档
   - 了解已有模块
   - 尝试在本地运行项目

2. **选择任务**：
   - 查看带有"good first issue"标签的issue
   - 在参与前先评论表明意向
   - 与维护者讨论解决方案

3. **提交贡献**：
   - 遵循开发流程提交PR
   - 提供充分的上下文和测试
   - 积极响应反馈

### 持续参与

维护者会根据你的贡献质量和参与度，逐步授予更多项目权限：

1. **贡献者**：可以提交PR
2. **协作者**：可以审核PR
3. **维护者**：可以合并PR并参与项目决策

## 常见问题和解决方案

### 环境配置问题

1. **依赖冲突**：
   - 使用`npm ci`代替`npm install`
   - 检查package.json中的版本约束

2. **本地启动失败**：
   - 检查配置文件中的路径
   - 确保所有服务都在运行

### 开发挑战

1. **API集成问题**：
   - 查看API文档
   - 使用模拟数据进行测试
   - 检查身份验证和权限

2. **性能问题**：
   - 使用性能分析工具
   - 考虑缓存策略
   - 优化数据流和异步操作

> 注：关于VibeCopilot产品本身的工作流程请参阅《应用流程》文档，功能详情请参阅《功能设计》文档，产品定位请参阅《产品需求文档》
