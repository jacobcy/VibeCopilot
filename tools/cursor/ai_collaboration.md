# Cursor AI 协作指南

## 简介

Cursor是一个AI驱动的代码编辑器，专为与AI协作开发而设计。本指南将帮助您充分利用Cursor的AI功能，提高开发效率，同时确保代码质量。

## Cursor基础设置

### 安装与配置

1. 从[官方网站](https://cursor.sh/)下载并安装Cursor
2. 在首次启动时，按提示进行设置:
   - 登录账号
   - 选择主题
   - 配置快捷键

### AI模型配置

Cursor支持多种AI模型:
- Claude (推荐用于复杂任务和详细解释)
- GPT-4 (适合代码生成和问题解答)
- 自定义模型 (高级用户)

推荐配置:
```json
{
  "ai.defaultModel": "claude-3-opus",
  "ai.temperature": 0.2,
  "ai.maxTokens": 4096
}
```

## Cursor Rules使用

VibeCopilot使用Cursor Rules来规范AI行为，确保代码质量和一致性。

### 配置Cursor Rules

1. 打开项目根目录
2. 导航到`.cursor/rules`目录
3. 查看`developguid.mdc`文件了解规则详情

### 应用和更新规则

- 规则会自动应用于项目中的AI交互
- 要更新规则，编辑`.cursor/rules/developguid.mdc`文件

```markdown
# 示例规则
- 所有Python代码必须使用类型注解
- 函数必须有文档字符串
- 保持简洁的代码风格
```

## 高效AI协作技巧

### 1. 明确任务描述

给AI清晰、具体的指令:

```
✅ 好的提示:
"帮我实现一个用户验证函数，接收用户名和密码，返回验证结果。使用bcrypt进行密码哈希比对，处理可能的错误情况。"

❌ 不好的提示:
"写一个登录功能"
```

### 2. 提供足够上下文

在请求生成代码时提供足够信息:

```
"我需要一个处理CSV文件的函数。项目使用pandas库，数据结构如下: [描述结构]。需要处理缺失值并计算每列的平均值。请参考`/src/utils/data_processing.py`中现有的格式化函数。"
```

### 3. 分步骤生成复杂功能

将复杂功能分解为小步骤:

1. 设计API接口
2. 实现核心逻辑
3. 添加错误处理
4. 编写测试

### 4. 使用专业术语和模式

明确表达设计模式和架构选择:

```
"使用工厂模式实现数据源连接器，支持MySQL、PostgreSQL和MongoDB"
```

### 5. 代码审查循环

让AI审查自己生成的代码:

```
"请审查上面生成的代码，检查:
1. 性能问题
2. 安全隐患
3. 错误处理完整性
4. 代码风格是否符合项目规范"
```

## Cursor快捷键与命令

### 常用AI交互快捷键

- `Ctrl+K` / `Cmd+K`: 打开AI命令面板
- `Ctrl+L` / `Cmd+L`: 向AI提问
- `Ctrl+I` / `Cmd+I`: 插入AI生成的代码
- `Ctrl+;` / `Cmd+;`: 解释选中的代码
- `Alt+/`: 自动完成当前行

### 编辑命令

- `/edit`: 请求编辑选定代码
- `/refactor`: 重构选定代码
- `/optimize`: 优化选定代码
- `/document`: 为选定代码添加文档
- `/test`: 为选定代码生成测试

## 常见问题与解决方案

### AI生成的代码不符合项目规范

解决方法:
1. 检查Cursor Rules是否正确配置
2. 在提示中明确要求遵循项目规范
3. 使用`/edit`命令修复不符合规范的代码

### AI上下文丢失

解决方法:
1. 使用较短、聚焦的会话
2. 定期开始新会话
3. 在复杂任务中明确引用相关文件

### 大型项目性能问题

解决方法:
1. 在`.gitignore`中添加大型生成文件
2. 在项目设置中排除不需要索引的目录
3. 选择性地只加载必要的目录

## 资源链接

- [Cursor官方文档](https://cursor.sh/docs)
- [有效提示词编写指南](https://docs.anthropic.com/claude/docs/introduction-to-prompting)
- [VibeCopilot AI提示词模板](../../docs/ai/prompts/)

---

通过遵循本指南，您可以更高效地使用Cursor AI进行开发，同时确保代码质量和项目一致性。随着您经验的积累，可以开发出自己的AI协作最佳实践。
