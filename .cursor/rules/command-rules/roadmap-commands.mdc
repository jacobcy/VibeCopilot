---
description: 当用户输入/roadmap或//roadmap命令时,获得项目活动路线图支持
globs:
alwaysApply: false
id: roadmap-command
title: "VibeCopilot路线图命令规则"
type: command_rule
status: active
version: "1.0"
tags: [command, roadmap, planning, rule]
related_items: [command-system]
---

# VibeCopilot路线图命令规则

## 路线图命令概述

路线图命令(`/roadmap`和`//roadmap`)用于管理项目路线图，包括创建、查看、更新和同步项目开发计划和重要里程碑。

## 命令类型和执行方式

### 规则命令形式

- 命令格式：`/roadmap [subcommand] [args]`
- 执行方式：由Cursor Agent直接解释执行
- 适用场景：简单查询、计划咨询和交互式规划

### 程序命令形式

- 命令格式：`//roadmap [subcommand] [args]`
- 执行方式：转换为`vibecopilot roadmap [subcommand] [args]`并通过终端执行
- 适用场景：创建/更新路线图、同步外部数据和持久化操作

## 子命令详解

| 子命令 | 说明 | 示例 |
|-------|------|------|
| `list` | 列出所有路线图 | `/roadmap list [--verbose]` |
| `show` | 查看路线图详情 | `/roadmap show <id>` |
| `create` | 创建新路线图 | `//roadmap create --name=<name>` |
| `update` | 更新路线图 | `//roadmap update <id> [--name=<name>]` |
| `delete` | 删除路线图 | `//roadmap delete <id> [--force]` |
| `sync` | 同步路线图数据 | `//roadmap sync [--source=<source>]` |
| `switch` | 切换活动路线图 | `//roadmap switch <id>` |
| `status` | 查看路线图状态 | `/roadmap status <id>` |

## 路线图组成元素

路线图由以下核心元素组成：

1. **里程碑(Milestones)**：主要开发阶段和关键时间点
2. **史诗(Epics)**：大型功能集合，包含多个相关故事
3. **功能(Features)**：具体的产品功能点
4. **用户故事(Stories)**：从用户视角定义的功能需求
5. **任务(Tasks)**：具体的开发工作项

## 路线图视图

路线图可以通过不同视图进行查看：

| 视图类型 | 说明 | 调用方式 |
|---------|------|---------|
| 时间线视图 | 按时间轴展示里程碑和功能 | `/roadmap show <id> --view=timeline` |
| 功能视图 | 按功能组织展示计划内容 | `/roadmap show <id> --view=feature` |
| 进度视图 | 显示各项目进度和状态 | `/roadmap show <id> --view=progress` |
| 依赖视图 | 显示项目间依赖关系 | `/roadmap show <id> --view=dependency` |

## 路线图集成

路线图系统与其他系统的集成方式：

- **任务集成**：路线图项可自动同步为任务
- **流程集成**：路线图可触发相应工作流
- **状态集成**：路线图状态更新会反映在项目状态中
- **文档集成**：路线图可导出为文档和可视化图表

## 路线图生成与规划

使用`//roadmap plan`可触发交互式规划引导：

1. 分析项目需求和范围
2. 建议合理的里程碑划分
3. 提出特性和功能组织建议
4. 估算开发时间和资源需求
5. 生成初始路线图草案

## 使用示例

```
# 列出所有路线图
/roadmap list

# 查看当前活动路线图
/roadmap show active

# 创建新路线图
//roadmap create --name="V2版本开发计划"

# 查看路线图时间线
/roadmap show v2 --view=timeline

# 更新路线图信息
//roadmap update v2 --desc="包含支付功能的版本"

# 同步外部任务系统数据
//roadmap sync --source=github

# 切换活动路线图
//roadmap switch v2

# 生成路线图规划
//roadmap plan --scope="支付功能"
```

## 路线图最佳实践

1. 路线图应定期更新以反映最新状态
2. 每个里程碑应有明确的目标和可衡量的成果
3. 功能应按优先级排序
4. 路线图应考虑依赖关系和资源限制
5. 路线图变更应记录变更原因

## 程序命令参数表
(需要在终端将用户指令转换成vibecopilot可接受的命令形式)

<!-- BEGIN_COMMAND_YAML -->
```yaml
commands:
  roadmap sync: # 从GitHub同步路线图数据 (用法: roadmap sync [OPTIONS] REPOSITORY)
    subcommands:
      --theme: # GitHub项目主题标签
        type: string
      --operation: # 同步操作类型
        values:
        - push
        - pull
      --roadmap: # 指定路线图ID
        type: string
      --force: # 强制同步，忽略冲突
        type: flag
      --verbose: # 显示详细输出
        type: flag
  roadmap switch: # 切换活动路线图
    subcommands:
      roadmap_id: # 路线图ID
        type: string
      --show: # 只显示当前活动路线图
        type: flag
      --clear: # 清除当前活动路线图设置
        type: flag
  roadmap list: # 列出路线图元素或所有路线图
    subcommands:
      --all: # 列出所有路线图而非当前路线图中的元素
        type: flag
      --type: # 元素类型
        values:
        - all
        - milestone
        - story
        - task
      --status: # 按状态筛选
        type: string
      --assignee: # 按负责人筛选
        type: string
      --labels: # 按标签筛选，多个标签用逗号分隔
        type: string
      --detail: # 显示详细信息
        type: flag
      --format: # 输出格式
        values:
        - text
        - json
        - table
      --verbose: # 显示详细信息
        type: flag
  roadmap create: # 创建新的路线图元素 (用法: roadmap create [OPTIONS] {milestone|epic|story} TITLE)
    subcommands:
      --epic: # 所属史诗ID (用于story)
        type: string
      --desc: # 详细描述
        type: string
      --assignee: # 指派给用户
        type: string
      --labels: # 标签列表，用逗号分隔
        type: string
      --priority: # 优先级
        values:
        - high
        - medium
        - low
  roadmap update: # 更新路线图元素状态 (用法: roadmap update [OPTIONS] {milestone|story|task} ID STATUS)
    subcommands:
      --sync: # 同步到GitHub
        type: flag
      --comment: # 更新说明
        type: string
      --assignee: # 更新指派人
        type: string
      --labels: # 更新标签（用逗号分隔）
        type: string
  roadmap story: # 管理路线图故事
    subcommands:
      story_id: # 故事ID
        type: string
      --title: # 故事标题
        type: string
      --milestone: # 所属里程碑ID
        type: string
      --desc: # 故事描述
        type: string
      --priority: # 优先级
        values:
        - P0
        - P1
        - P2
        - P3
      --assignee: # 指派给用户
        type: string
      --labels: # 标签列表，用逗号分隔
        type: string
      --status: # 更新状态
        values:
        - not_started
        - in_progress
        - completed
        - blocked
      --comment: # 状态变更说明
        type: string
      --format: # 输出格式
        values:
        - json
        - text
        - table
      --delete: # 删除故事
        type: flag
      --force: # 强制删除，不请求确认
        type: flag
  roadmap validate: # 验证路线图YAML文件
    subcommands:
      source: # 源文件路径
        type: string
      --fix: # 自动修复格式问题
        type: flag
      --output: # 修复后输出的文件路径
        type: string
      --template: # 使用自定义模板验证
        type: string
      --verbose: # 显示详细信息
        type: flag
      --import: # 验证通过后导入路线图
        type: flag
      --roadmap-id: # 导入时指定路线图ID
        type: string
  roadmap import: # 导入路线图YAML文件
    subcommands:
      source: # 源文件路径
        type: string
      --roadmap-id: # 现有路线图ID
        type: string
      --fix: # 自动修复格式问题
        type: flag
      --activate: # 导入后设为当前活动路线图
        type: flag
      --verbose: # 显示详细信息
        type: flag
  roadmap show: # 查看路线图详情
    subcommands:
      --id: # 路线图ID
        type: string
      --milestone: # 里程碑ID
        type: string
      --task: # 任务ID
        type: string
      --health: # 显示健康状态检查
        type: flag
      --format: # 输出格式
        values:
        - json
        - text
        - table
  roadmap export: # 导出路线图为YAML
    subcommands:
      --id: # 路线图ID
        type: string
      --output: # 输出文件路径
        type: string
      --milestone: # 只导出特定里程碑及其任务
        type: string
      --template: # 使用特定模板格式
        type: string
  roadmap delete: # 删除路线图或元素 (用法: roadmap delete [OPTIONS] {roadmap|milestone|task} ID)
    subcommands:
      --force: # 强制删除，不请求确认
        type: flag
      --cascade: # 级联删除关联元素
        type: flag
  roadmap plan: # 互动式路线图规划
    subcommands:
      --id: # 要修改的路线图ID
        type: string
      --template: # 使用特定模板开始
        type: string
      --from: # 从YAML文件开始
        type: string
      --interactive: # 始终使用交互式模式
        type: flag
```
<!-- END_COMMAND_YAML -->
